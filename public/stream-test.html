<!DOCTYPE html>
<html>
<head>
    <title>Cloudflare Stream ID æµ‹è¯•å·¥å…·</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; }
        .test-item { margin: 15px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
        .success { background: #d4edda; border-color: #c3e6cb; }
        .error { background: #f8d7da; border-color: #f5c6cb; }
        .testing { background: #fff3cd; border-color: #ffeaa7; }
        video { width: 100%; max-width: 400px; height: 225px; background: black; }
        iframe { width: 100%; height: 300px; border: 1px solid #ccc; }
        .url { font-family: monospace; font-size: 12px; word-break: break-all; margin: 5px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ Cloudflare Stream ID æµ‹è¯•</h1>
        <p><strong>æµ‹è¯• Stream ID:</strong> <code>f1dcfbd5d645e471579a33a5c9e006dd</code></p>

        <div id="results"></div>

        <div class="test-item">
            <h3>ğŸ“º å®˜æ–¹ iframe åµŒå…¥æµ‹è¯•</h3>
            <iframe
                src="https://iframe.videodelivery.net/f1dcfbd5d645e471579a33a5c9e006dd"
                allow="accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;"
                allowfullscreen="true"
                frameborder="0">
            </iframe>
            <div class="url">URL: https://iframe.videodelivery.net/f1dcfbd5d645e471579a33a5c9e006dd</div>
        </div>
    </div>

    <script>
        const streamId = 'f1dcfbd5d645e471579a33a5c9e006dd';
        const secondStreamId = 'ae2a47c2ac6036543abb2c2c1dbef65a';

        const testUrls = [
            `https://videodelivery.net/${streamId}/manifest/video.m3u8`,
            `https://videodelivery.net/${streamId}/mp4`,
            `https://customer-m033z5x00ks6nunl.cloudflarestream.com/${streamId}/manifest/video.m3u8`,
            `https://videodelivery.net/${streamId}.mp4`,
            `https://videodelivery.net/${streamId}`,
            `https://iframe.videodelivery.net/${streamId}`,
            // æµ‹è¯•ç¬¬äºŒä¸ªID
            `https://videodelivery.net/${secondStreamId}/manifest/video.m3u8`,
            `https://videodelivery.net/${secondStreamId}/mp4`
        ];

        const resultsDiv = document.getElementById('results');

        async function testUrl(url, index) {
            const testDiv = document.createElement('div');
            testDiv.className = 'test-item testing';
            testDiv.innerHTML = `
                <h3>æµ‹è¯• ${index + 1}: æ­£åœ¨æ£€æµ‹...</h3>
                <div class="url">${url}</div>
                <div id="status-${index}">ğŸ”„ æµ‹è¯•ä¸­...</div>
            `;
            resultsDiv.appendChild(testDiv);

            try {
                const response = await fetch(url, { method: 'HEAD' });
                const statusDiv = document.getElementById(`status-${index}`);

                if (response.ok) {
                    testDiv.className = 'test-item success';
                    testDiv.querySelector('h3').textContent = `æµ‹è¯• ${index + 1}: âœ… æˆåŠŸ (${response.status})`;
                    statusDiv.innerHTML = `âœ… HTTP ${response.status} - å¯è®¿é—®<br>Content-Type: ${response.headers.get('content-type') || 'N/A'}`;

                    // å¦‚æœæ˜¯è§†é¢‘æ–‡ä»¶ï¼Œå°è¯•æ’­æ”¾
                    if (url.includes('.mp4') || url.includes('.m3u8')) {
                        const video = document.createElement('video');
                        video.controls = true;
                        video.src = url;
                        video.style.marginTop = '10px';
                        testDiv.appendChild(video);
                    }
                } else {
                    testDiv.className = 'test-item error';
                    testDiv.querySelector('h3').textContent = `æµ‹è¯• ${index + 1}: âŒ å¤±è´¥ (${response.status})`;
                    statusDiv.textContent = `âŒ HTTP ${response.status} - ${response.statusText}`;
                }
            } catch (error) {
                testDiv.className = 'test-item error';
                testDiv.querySelector('h3').textContent = `æµ‹è¯• ${index + 1}: âŒ ç½‘ç»œé”™è¯¯`;
                document.getElementById(`status-${index}`).textContent = `âŒ é”™è¯¯: ${error.message}`;
            }
        }

        // ä¾æ¬¡æµ‹è¯•æ‰€æœ‰URL
        testUrls.forEach((url, index) => {
            setTimeout(() => testUrl(url, index), index * 1000);
        });
    </script>
</body>
</html>